import{_ as y,r as o,b as k,d as w,u as E,c as i,a as t,w as _,e as c,v as f,t as p,o as d}from"./index-BBkAQfZn.js";import"@/assets/main.css";const x={class:"admin-login"},A={class:"login-box"},D={key:0,class:"error"},M={key:1,class:"error"},N={key:2,class:"error"},V={__name:"LoginAdmin",setup(b){const s=o(""),r=o(""),l=o(""),n=o(""),a=o(""),m=E(),u=k();w(()=>{u.token&&u.role==="ADMIN"&&m.push("/admin")});const g=async()=>{if(l.value="",n.value="",a.value="",!s.value.trim()){l.value="請輸入帳號（Email）";return}if(!r.value.trim()){n.value="請輸入密碼";return}try{await u.login(s.value,r.value),u.role==="ADMIN"?m.push("/admin"):a.value="此帳號非超級使用者，請改用照顧者登入"}catch{a.value="帳號或密碼錯誤"}};return(h,e)=>(d(),i("div",x,[t("div",A,[e[2]||(e[2]=t("h2",null,"系統管理員登入",-1)),_(t("input",{"onUpdate:modelValue":e[0]||(e[0]=v=>s.value=v),type:"email",placeholder:"Email"},null,512),[[f,s.value]]),l.value?(d(),i("p",D,p(l.value),1)):c("",!0),_(t("input",{"onUpdate:modelValue":e[1]||(e[1]=v=>r.value=v),type:"password",placeholder:"密碼"},null,512),[[f,r.value]]),n.value?(d(),i("p",M,p(n.value),1)):c("",!0),a.value?(d(),i("p",N,p(a.value),1)):c("",!0),t("button",{onClick:g},"登入")])]))}},I=y(V,[["__scopeId","data-v-e5d7968a"]]);export{I as default};
